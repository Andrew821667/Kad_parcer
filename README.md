# KAD Parser

–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏–∑ —Å–∏—Å—Ç–µ–º—ã –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã—Ö —Å—É–¥–æ–≤ –†–§ (–ö–ê–î –ê—Ä–±–∏—Ç—Ä).

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- üîç **–ü–∞—Ä—Å–∏–Ω–≥ –¥–µ–ª** - –°–±–æ—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –¥–µ–ª–∞—Ö –∏–∑ –ö–ê–î –ê—Ä–±–∏—Ç—Ä
- üìÑ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤** - –ü–∞—Ä—Å–∏–Ω–≥ PDF, DOCX –∏ HTML –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- üíæ **–•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** - PostgreSQL –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, MinIO –¥–ª—è —Ñ–∞–π–ª–æ–≤
- üöÄ **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** - Celery —Å –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–æ–º Beat –¥–ª—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á
- üåê **REST API** - FastAPI —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π OpenAPI/Swagger
- üéØ **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤** - –ê–ª–≥–æ—Ä–∏—Ç–º Token Bucket –¥–ª—è —Å–æ–±–ª—é–¥–µ–Ω–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π API

### –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- üîê **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** - JWT —Ç–æ–∫–µ–Ω—ã –∏ API –∫–ª—é—á–∏
- ü™ù **–í–µ–±—Ö—É–∫–∏** - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–æ–±—ã—Ç–∏—è—Ö —Å –ª–æ–≥–∏–∫–æ–π –ø–æ–≤—Ç–æ—Ä–æ–≤ –∏ HMAC –ø–æ–¥–ø–∏—Å—è–º–∏
- üîå **–°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–≥–∏–Ω–æ–≤** - –†–∞—Å—à–∏—Ä—è–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø–∞—Ä—Å–µ—Ä–æ–≤, –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤, —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä–æ–≤
- ‚è∞ **–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏** - Celery Beat –¥–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–≥–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- üìä **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –¥–µ–ª–∞–º –∏ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å
- üì§ **–≠–∫—Å–ø–æ—Ä—Ç** - –§–æ—Ä–º–∞—Ç—ã JSON, CSV, Excel
- üé® **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ Tailwind CSS, HTMX, Alpine.js

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Backend**: Python 3.11+, FastAPI, SQLAlchemy 2.0 (async)
- **–ë–î**: PostgreSQL 15+ (—Å asyncpg)
- **–ö—ç—à/–û—á–µ—Ä–µ–¥—å**: Redis 7+ (–±—Ä–æ–∫–µ—Ä Celery)
- **–•—Ä–∞–Ω–∏–ª–∏—â–µ**: MinIO (S3-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ –æ–±—ä–µ–∫—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ)
- **–ó–∞–¥–∞—á–∏**: Celery + Celery Beat
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: JWT (python-jose), bcrypt (passlib)
- **–ü–∞—Ä—Å–∏–Ω–≥**: BeautifulSoup4, pdfplumber, python-docx
- **HTTP**: httpx (async), curl-cffi
- **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: Jinja2, Tailwind CSS, HTMX, Alpine.js, Chart.js
- **–≠–∫—Å–ø–æ—Ä—Ç**: openpyxl (Excel), CSV, JSON

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
kad_parser/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ core/           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –∏—Å–∫–ª—é—á–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ scraper/        # –°–∫—Ä–µ–π–ø–∏–Ω–≥ –ö–ê–î –ê—Ä–±–∏—Ç—Ä —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ parser/         # –ü–∞—Ä—Å–µ—Ä—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (HTML/PDF/DOCX)
‚îÇ   ‚îú‚îÄ‚îÄ storage/        # –ú–æ–¥–µ–ª–∏ –ë–î –∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ MinIO
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database/   # –ú–æ–¥–µ–ª–∏ SQLAlchemy –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ files/      # –§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ MinIO
‚îÇ   ‚îú‚îÄ‚îÄ tasks/          # –ó–∞–¥–∞—á–∏ Celery –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ Beat
‚îÇ   ‚îú‚îÄ‚îÄ api/            # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ FastAPI
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes/     # API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (auth, webhooks, plugins –∏ —Ç.–¥.)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ schemas/    # –°—Ö–µ–º—ã Pydantic
‚îÇ   ‚îú‚îÄ‚îÄ webhooks/       # –î–∏—Å–ø–µ—Ç—á–µ—Ä –≤–µ–±—Ö—É–∫–æ–≤ –∏ –¥–æ—Å—Ç–∞–≤–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ plugins/        # –°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–≥–∏–Ω–æ–≤ (–±–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã –∏ –º–µ–Ω–µ–¥–∂–µ—Ä)
‚îÇ   ‚îú‚îÄ‚îÄ web/            # –®–∞–±–ª–æ–Ω—ã –∏ –º–∞—Ä—à—Ä—É—Ç—ã –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
‚îÇ   ‚îî‚îÄ‚îÄ cli/            # CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ plugins/            # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø–ª–∞–≥–∏–Ω–æ–≤
‚îú‚îÄ‚îÄ tests/              # –¢–µ—Å—Ç—ã (–º–æ–¥—É–ª—å–Ω—ã–µ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ)
‚îú‚îÄ‚îÄ docker/             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker
‚îî‚îÄ‚îÄ scripts/            # –£—Ç–∏–ª–∏—Ç—ã
```

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å uv (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
uv pip install -e ".[dev]"

# –ò–ª–∏ —Å pip
pip install -e ".[dev]"

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
uv pip install email-validator
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
cp .env.example .env
```

–ö–ª—é—á–µ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
- `SECRET_KEY` - –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è JWT
- `POSTGRES_*` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL
- `REDIS_*` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Redis
- `MINIO_*` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ MinIO

### –ó–∞–ø—É—Å–∫ —Å Docker

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (API, Worker, Beat, PostgreSQL, Redis, MinIO)
docker-compose -f docker/docker-compose.yml up -d

# –°–µ—Ä–≤–∏—Å—ã:
# - API: http://localhost:8000
# - API Docs: http://localhost:8000/api/docs
# - –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: http://localhost:8000/ui
# - –ö–æ–Ω—Å–æ–ª—å MinIO: http://localhost:9001
```

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ PostgreSQL –∏ Redis
# 2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏
alembic upgrade head

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ API —Å–µ—Ä–≤–µ—Ä
kad-parser serve
# –∏–ª–∏
uvicorn src.api.app:app --reload

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Celery worker
celery -A src.tasks.celery_app worker --loglevel=info

# 5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Celery Beat (–¥–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á)
celery -A src.tasks.celery_app beat --loglevel=info
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

```bash
# –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
curl -X POST http://localhost:8000/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "email": "user@example.com",
    "username": "testuser",
    "password": "securepassword"
  }'

# –í—Ö–æ–¥
curl -X POST http://localhost:8000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "username": "testuser",
    "password": "securepassword"
  }'

# –°–æ–∑–¥–∞–Ω–∏–µ API –∫–ª—é—á–∞
curl -X POST http://localhost:8000/api/auth/api-keys \
  -H "Authorization: Bearer –í–ê–®_JWT_–¢–û–ö–ï–ù" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "–ú–æ–π API –∫–ª—é—á",
    "expires_days": 30
  }'
```

### –í–µ–±—Ö—É–∫–∏

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ–±—Ö—É–∫–∞
curl -X POST http://localhost:8000/api/webhooks \
  -H "Authorization: Bearer –í–ê–®_JWT_–¢–û–ö–ï–ù" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "–û–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–µ–ª",
    "url": "https://your-server.com/webhook",
    "secret": "–≤–∞—à_—Å–µ–∫—Ä–µ—Ç_–≤–µ–±—Ö—É–∫–∞",
    "events": ["case.created", "case.updated"],
    "max_retries": 3,
    "retry_delay": 60
  }'

# –°–ø–∏—Å–æ–∫ –≤–µ–±—Ö—É–∫–æ–≤
curl http://localhost:8000/api/webhooks \
  -H "Authorization: Bearer –í–ê–®_JWT_–¢–û–ö–ï–ù"

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ–±—Ö—É–∫–∞
curl -X POST http://localhost:8000/api/webhooks/{webhook_id}/test \
  -H "Authorization: Bearer –í–ê–®_JWT_–¢–û–ö–ï–ù" \
  -H "Content-Type: application/json" \
  -d '{"message": "–¢–µ—Å—Ç–æ–≤–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞"}'
```

### –ü–ª–∞–≥–∏–Ω—ã

```bash
# –°–ø–∏—Å–æ–∫ –ø–ª–∞–≥–∏–Ω–æ–≤
curl http://localhost:8000/api/plugins \
  -H "Authorization: Bearer –í–ê–®_JWT_–¢–û–ö–ï–ù"

# –í–∫–ª—é—á–µ–Ω–∏–µ/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–∞
curl -X PATCH http://localhost:8000/api/plugins/{–∏–º—è_–ø–ª–∞–≥–∏–Ω–∞}/status \
  -H "Authorization: Bearer –í–ê–®_JWT_–¢–û–ö–ï–ù" \
  -H "Content-Type: application/json" \
  -d '{"enabled": true}'

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–ª–∞–≥–∏–Ω–∞
curl -X POST http://localhost:8000/api/plugins/{–∏–º—è_–ø–ª–∞–≥–∏–Ω–∞}/configure \
  -H "Authorization: Bearer –í–ê–®_JWT_–¢–û–ö–ï–ù" \
  -H "Content-Type: application/json" \
  -d '{"config": {"option": "value"}}'

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –ø–ª–∞–≥–∏–Ω–æ–≤
curl -X POST http://localhost:8000/api/plugins/reload \
  -H "Authorization: Bearer –í–ê–®_JWT_–¢–û–ö–ï–ù"
```

### –î–µ–ª–∞

```bash
# –ü–∞—Ä—Å–∏–Ω–≥ –¥–µ–ª–∞
curl -X POST http://localhost:8000/api/cases/scrape \
  -H "Authorization: Bearer –í–ê–®_JWT_–¢–û–ö–ï–ù" \
  -H "Content-Type: application/json" \
  -d '{"case_number": "–ê40-123456/2024"}'

# –°–ø–∏—Å–æ–∫ –¥–µ–ª
curl http://localhost:8000/api/cases \
  -H "Authorization: Bearer –í–ê–®_JWT_–¢–û–ö–ï–ù"

# –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ–ª–∞
curl http://localhost:8000/api/cases/{case_id} \
  -H "Authorization: Bearer –í–ê–®_JWT_–¢–û–ö–ï–ù"

# –≠–∫—Å–ø–æ—Ä—Ç –¥–µ–ª
curl http://localhost:8000/api/export/cases?format=xlsx \
  -H "Authorization: Bearer –í–ê–®_JWT_–¢–û–ö–ï–ù" \
  -O cases.xlsx
```

### CLI

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏
kad-parser version

# –ü–∞—Ä—Å–∏–Ω–≥ –¥–µ–ª–∞
kad-parser scrape –ê40-123456/2024

# –ó–∞–ø—É—Å–∫ API —Å–µ—Ä–≤–µ—Ä–∞
kad-parser serve --host 0.0.0.0 --port 8000
```

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
pytest

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
pytest --cov=src --cov-report=html --cov-report=term-missing

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–æ–¥—É–ª—å
pytest tests/unit/test_scraper_kad_client.py -v

# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
pytest tests/integration/ -v
```

### –õ–∏–Ω—Ç–∏–Ω–≥ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# Ruff (–ª–∏–Ω—Ç–∏–Ω–≥ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
ruff check src/
ruff format src/

# MyPy (–ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤)
mypy src/
```

### –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏
alembic revision --autogenerate -m "–û–ø–∏—Å–∞–Ω–∏–µ"

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
alembic upgrade head

# –û—Ç–∫–∞—Ç
alembic downgrade -1

# –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è
alembic current
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ú–æ–¥—É–ª–∏

- **core** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- **scraper** - –ö–ª–∏–µ–Ω—Ç API –ö–ê–î –ê—Ä–±–∏—Ç—Ä —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –ª–æ–≥–∏–∫–æ–π –ø–æ–≤—Ç–æ—Ä–æ–≤
- **parser** - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ HTML, PDF, DOCX –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **storage** - –ü–∞—Ç—Ç–µ—Ä–Ω Repository –¥–ª—è –ë–î, MinIO –¥–ª—è —Ñ–∞–π–ª–æ–≤–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
- **tasks** - –ó–∞–¥–∞—á–∏ Celery –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏, Beat –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- **api** - REST API –Ω–∞ FastAPI
- **webhooks** - –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ —Å–æ–±—ã—Ç–∏—è—Ö —Å –ª–æ–≥–∏–∫–æ–π –ø–æ–≤—Ç–æ—Ä–æ–≤
- **plugins** - –†–∞—Å—à–∏—Ä—è–µ–º–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–ª–∞–≥–∏–Ω–æ–≤
- **web** - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **cli** - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

### –ú–æ–¥–µ–ª–∏ –ë–î

**–ë–∞–∑–æ–≤—ã–µ:**
- `User` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `APIKey` - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ API –∫–ª—é—á—É

**–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞:**
- `Case` - –°—É–¥–µ–±–Ω–æ–µ –¥–µ–ª–æ
- `Participant` - –£—á–∞—Å—Ç–Ω–∏–∫ –¥–µ–ª–∞
- `Document` - –°—É–¥–µ–±–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç
- `Hearing` - –°—É–¥–µ–±–Ω–æ–µ –∑–∞—Å–µ–¥–∞–Ω–∏–µ
- `ScrapingTask` - –ò—Å—Ç–æ—Ä–∏—è –∑–∞–¥–∞—á –ø–∞—Ä—Å–∏–Ω–≥–∞

**–°–∏—Å—Ç–µ–º–Ω—ã–µ:**
- `Webhook` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–µ–±—Ö—É–∫–∞
- `WebhookDelivery` - –ñ—É—Ä–Ω–∞–ª –¥–æ—Å—Ç–∞–≤–∫–∏ –≤–µ–±—Ö—É–∫–æ–≤

### –°–æ–±—ã—Ç–∏—è –≤–µ–±—Ö—É–∫–æ–≤

**–°–æ–±—ã—Ç–∏—è –¥–µ–ª:**
- `case.created` - –°–æ–∑–¥–∞–Ω–æ –Ω–æ–≤–æ–µ –¥–µ–ª–æ
- `case.updated` - –î–µ–ª–æ –æ–±–Ω–æ–≤–ª–µ–Ω–æ
- `case.scraping.started` - –ü–∞—Ä—Å–∏–Ω–≥ –Ω–∞—á–∞—Ç
- `case.scraping.completed` - –ü–∞—Ä—Å–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–µ–Ω
- `case.scraping.failed` - –ü–∞—Ä—Å–∏–Ω–≥ –ø—Ä–æ–≤–∞–ª–µ–Ω

**–°–æ–±—ã—Ç–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:**
- `document.created` - –î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω
- `document.updated` - –î–æ–∫—É–º–µ–Ω—Ç –æ–±–Ω–æ–≤–ª–µ–Ω
- `document.parsing.started` - –ü–∞—Ä—Å–∏–Ω–≥ –Ω–∞—á–∞—Ç
- `document.parsing.completed` - –ü–∞—Ä—Å–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–µ–Ω
- `document.parsing.failed` - –ü–∞—Ä—Å–∏–Ω–≥ –ø—Ä–æ–≤–∞–ª–µ–Ω

**–°–æ–±—ã—Ç–∏—è –∑–∞–¥–∞—á:**
- `task.started` - –ó–∞–¥–∞—á–∞ –∑–∞–ø—É—â–µ–Ω–∞
- `task.completed` - –ó–∞–¥–∞—á–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- `task.failed` - –ó–∞–¥–∞—á–∞ –ø—Ä–æ–≤–∞–ª–µ–Ω–∞

### –°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–≥–∏–Ω–æ–≤

–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø–ª–∞–≥–∏–Ω—ã, —Ä–∞—Å—à–∏—Ä—è—è –±–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã:

**–ü–ª–∞–≥–∏–Ω –ø–∞—Ä—Å–µ—Ä–∞:**
```python
from src.plugins.base import ParserPlugin

class MyParserPlugin(ParserPlugin):
    @property
    def name(self) -> str:
        return "my_parser"

    async def parse(self, content: bytes, content_type: str) -> dict:
        # –ü–∞—Ä—Å–∏–Ω–≥ –¥–æ–∫—É–º–µ–Ω—Ç–∞
        return {"text": "—Ä–∞—Å–ø–∞—Ä—Å–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç"}

    def supports_content_type(self, content_type: str) -> bool:
        return content_type == "application/my-format"
```

–°–º. `plugins/README.md` –¥–ª—è –ø–æ–ª–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

### –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ (Celery Beat)

- **–ü–æ–≤—Ç–æ—Ä –Ω–µ—É–¥–∞–≤—à–∏—Ö—Å—è –≤–µ–±—Ö—É–∫–æ–≤** - –ö–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
- **–û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–æ—Å—Ç–∞–≤–æ–∫** - –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 2:00
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–µ–ª** - –ö–∞–∂–¥—ã–π —á–∞—Å
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å—à–∏—Ö –∑–∞–¥–∞—á** - –ö–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç
- **–û—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–µ–∫—à–∏—Ö —Å–µ—Å—Å–∏–π** - –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 3:00

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å–∞–º:
- Swagger UI: `http://localhost:8000/api/docs`
- ReDoc: `http://localhost:8000/api/redoc`

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- Async/await –ø–æ–≤—Å–µ–º–µ—Å—Ç–Ω–æ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞
- –ü—É–ª—ã —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –¥–ª—è –ë–î –∏ HTTP
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º Token Bucket
- Celery –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–¥–∞—á
- Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –±—Ä–æ–∫–µ—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- MinIO –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ JWT —Ç–æ–∫–µ–Ω–æ–≤
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ API –∫–ª—é—á–∞–º
- –•—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π —Å bcrypt
- HMAC –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–µ–π –¥–ª—è –≤–µ–±—Ö—É–∫–æ–≤
- CORS middleware
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å Pydantic
- –ó–∞—â–∏—Ç–∞ –æ—Ç SQL –∏–Ω—ä–µ–∫—Ü–∏–π —Å SQLAlchemy
- –ó–∞—â–∏—Ç–∞ –æ—Ç XSS

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Prometheus + Grafana
- Elasticsearch –¥–ª—è –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞
- ML-–∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –¥–µ–ª
- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–æ–π
- WebSocket –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- GraphQL API
- –ú—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–æ—Å—Ç—å

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. [LICENSE](LICENSE)

## –ê–≤—Ç–æ—Ä

Andrew821667

## –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è –ª—é–±—ã–µ –≤–∫–ª–∞–¥—ã! –ù–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å —Å–æ–∑–¥–∞–≤–∞—Ç—å Pull Request.
